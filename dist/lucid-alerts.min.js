!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(n="undefined"!=typeof globalThis?globalThis:n||self).LucidAlerts=i()}(this,function(){"use strict";!function(n,i){void 0===i&&(i={});var t=i.insertAt;if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}("/* LucidAlerts CSS - Modern Alert and Notification Library */\n\n/* Core Backdrop Styles */\n.lucid-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  z-index: 10000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  padding: 1rem;\n}\n\n.lucid-backdrop.show {\n  opacity: 1;\n  visibility: visible;\n}\n\n.lucid-backdrop.position-top {\n  align-items: flex-start;\n  padding-top: 2rem;\n}\n\n.lucid-backdrop.position-bottom {\n  align-items: flex-end;\n  padding-bottom: 2rem;\n}\n\n/* Alert Styles */\n.lucid-alert {\n  background: var(--lucid-bg);\n  color: var(--lucid-text);\n  border-radius: 16px;\n  padding: 2rem;\n  max-width: 500px;\n  width: 90%;\n  max-height: 90vh;\n  overflow-y: auto;\n  position: relative;\n  transform: scale(0.7) translateY(20px);\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 1px solid var(--lucid-border);\n  box-shadow:\n    0 20px 25px -5px rgba(0, 0, 0, 0.1),\n    0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n.lucid-backdrop.show .lucid-alert {\n  transform: scale(1) translateY(0);\n}\n\n/* Close Button */\n.lucid-close {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: var(--lucid-text-secondary);\n  padding: 0.25rem;\n  border-radius: 50%;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  opacity: 0.7;\n}\n\n.lucid-close:hover {\n  opacity: 1;\n  color: var(--lucid-text);\n}\n\n/* Icon Styles */\n.lucid-icon {\n  width: 4rem;\n  height: 4rem;\n  margin: 0 auto 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-size: 2rem;\n}\n\n.lucid-icon.success {\n  background: var(--lucid-success-bg);\n  color: var(--lucid-success);\n}\n\n.lucid-icon.error {\n  background: var(--lucid-error-bg);\n  color: var(--lucid-error);\n}\n\n.lucid-icon.warning {\n  background: var(--lucid-warning-bg);\n  color: var(--lucid-warning);\n}\n\n.lucid-icon.info {\n  background: var(--lucid-info-bg);\n  color: var(--lucid-info);\n}\n\n.lucid-icon.question {\n  background: var(--lucid-question-bg);\n  color: var(--lucid-question);\n}\n\n/* Text Content */\n.lucid-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n  text-align: center;\n  color: var(--lucid-text);\n}\n\n.lucid-content {\n  font-size: 1rem;\n  line-height: 1.5;\n  margin-bottom: 2rem;\n  text-align: center;\n  color: var(--lucid-text-secondary);\n}\n\n/* Form Elements */\n.lucid-form {\n  margin-bottom: 2rem;\n}\n\n.lucid-input {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid var(--lucid-border);\n  border-radius: 8px;\n  font-size: 1rem;\n  background: var(--lucid-input-bg);\n  color: var(--lucid-text);\n  margin-bottom: 1rem;\n  transition: border-color 0.2s ease;\n}\n\n.lucid-input:focus {\n  outline: none;\n  border-color: var(--lucid-primary);\n}\n\n.lucid-input.error {\n  border-color: var(--lucid-error);\n}\n\n.lucid-error-message {\n  color: var(--lucid-error);\n  font-size: 0.875rem;\n  margin-top: -0.5rem;\n  margin-bottom: 1rem;\n}\n\n/* Buttons */\n.lucid-buttons {\n  display: flex;\n  gap: 0.75rem;\n  justify-content: center;\n}\n\n.lucid-button {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 10px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  min-width: 80px;\n}\n\n.lucid-button.confirm {\n  background: var(--lucid-primary);\n  color: white;\n}\n\n.lucid-button.confirm:hover {\n  background: var(--lucid-primary-dark);\n  opacity: 0.9;\n}\n\n.lucid-button.cancel {\n  background: var(--lucid-secondary);\n  color: var(--lucid-text);\n}\n\n.lucid-button.cancel:hover {\n  background: var(--lucid-secondary-dark);\n  opacity: 0.9;\n}\n\n/* Notifications Container */\n.lucid-notifications {\n  position: fixed;\n  z-index: 10001;\n  pointer-events: none;\n}\n\n.lucid-notifications.top-right {\n  top: 1rem;\n  right: 1rem;\n}\n\n.lucid-notifications.top-left {\n  top: 1rem;\n  left: 1rem;\n}\n\n.lucid-notifications.bottom-right {\n  bottom: 1rem;\n  right: 1rem;\n}\n\n.lucid-notifications.bottom-left {\n  bottom: 1rem;\n  left: 1rem;\n}\n\n.lucid-notifications.top-center {\n  top: 1rem;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.lucid-notifications.bottom-center {\n  bottom: 1rem;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n/* Notification Styles */\n.lucid-notification {\n  background: var(--lucid-bg);\n  color: var(--lucid-text);\n  border: 1px solid var(--lucid-border);\n  border-radius: 12px;\n  padding: 1rem;\n  margin-bottom: 0.75rem;\n  max-width: 400px;\n  min-width: 300px;\n  pointer-events: auto;\n  transform: translateX(100%) scale(0.95);\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  opacity: 0;\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  position: relative;\n  overflow: hidden;\n  box-shadow:\n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.lucid-notification.show {\n  transform: translateX(0) scale(1);\n  opacity: 1;\n}\n\n.lucid-notification.left {\n  transform: translateX(-100%) scale(0.95);\n}\n\n.lucid-notification.left.show {\n  transform: translateX(0) scale(1);\n}\n\n/* Notification Types */\n.lucid-notification.success {\n  border-left: 4px solid var(--lucid-success);\n  background: var(--lucid-success-notification-bg) !important;\n  border-color: var(--lucid-success);\n}\n\n.lucid-notification.error {\n  border-left: 4px solid var(--lucid-error);\n  background: var(--lucid-error-notification-bg) !important;\n  border-color: var(--lucid-error);\n}\n\n.lucid-notification.warning {\n  border-left: 4px solid var(--lucid-warning);\n  background: var(--lucid-warning-notification-bg) !important;\n  border-color: var(--lucid-warning);\n}\n\n.lucid-notification.info {\n  border-left: 4px solid var(--lucid-info);\n  background: var(--lucid-info-notification-bg) !important;\n  border-color: var(--lucid-info);\n}\n\n/* Notification Content */\n.lucid-notification-icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.875rem;\n  flex-shrink: 0;\n}\n\n.lucid-notification-content {\n  flex: 1;\n}\n\n.lucid-notification-title {\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n  font-size: 0.875rem;\n}\n\n.lucid-notification-message {\n  font-size: 0.875rem;\n  color: var(--lucid-text-secondary);\n  line-height: 1.4;\n}\n\n.lucid-notification-close {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: var(--lucid-text-secondary);\n  padding: 0.25rem;\n  border-radius: 50%;\n  width: 1.5rem;\n  height: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  flex-shrink: 0;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  opacity: 0.7;\n}\n\n.lucid-notification-close:hover {\n  opacity: 1;\n  color: var(--lucid-text);\n}\n\n.lucid-notification-progress {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 3px;\n  background: var(--lucid-primary);\n  transition: width linear;\n}\n\n/* Theme Variables */\n:root {\n  --lucid-primary: #3b82f6;\n  --lucid-primary-dark: #2563eb;\n  --lucid-secondary: #e5e7eb;\n  --lucid-secondary-dark: #d1d5db;\n  --lucid-success: #10b981;\n  --lucid-success-bg: #d1fae5;\n  --lucid-error: #ef4444;\n  --lucid-error-bg: #fee2e2;\n  --lucid-warning: #f59e0b;\n  --lucid-warning-bg: #fef3c7;\n  --lucid-info: #3b82f6;\n  --lucid-info-bg: #dbeafe;\n  --lucid-question: #8b5cf6;\n  --lucid-question-bg: #ede9fe;\n}\n\n/* Light Theme */\n[data-theme='light'],\n:root {\n  --lucid-bg: #ffffff;\n  --lucid-text: #1f2937;\n  --lucid-text-secondary: #6b7280;\n  --lucid-border: #e5e7eb;\n  --lucid-hover: #f3f4f6;\n  --lucid-input-bg: #ffffff;\n  --lucid-success-notification-bg: #f0fdf4;\n  --lucid-error-notification-bg: #fef2f2;\n  --lucid-warning-notification-bg: #fffbeb;\n  --lucid-info-notification-bg: #eff6ff;\n}\n\n/* Dark Theme */\n[data-theme='dark'] {\n  --lucid-bg: #1f2937;\n  --lucid-text: #f9fafb;\n  --lucid-text-secondary: #d1d5db;\n  --lucid-border: #374151;\n  --lucid-hover: #374151;\n  --lucid-input-bg: #374151;\n  --lucid-secondary: #374151;\n  --lucid-secondary-dark: #4b5563;\n  --lucid-success-bg: #064e3b;\n  --lucid-error-bg: #7f1d1d;\n  --lucid-warning-bg: #78350f;\n  --lucid-info-bg: #1e3a8a;\n  --lucid-question-bg: #581c87;\n  --lucid-success-notification-bg: #022c22;\n  --lucid-error-notification-bg: #450a0a;\n  --lucid-warning-notification-bg: #451a03;\n  --lucid-info-notification-bg: #1e3a8a;\n}\n\n/* Auto theme detection */\n@media (prefers-color-scheme: dark) {\n  :root:not([data-theme='light']) {\n    --lucid-bg: #1f2937;\n    --lucid-text: #f9fafb;\n    --lucid-text-secondary: #d1d5db;\n    --lucid-border: #374151;\n    --lucid-hover: #374151;\n    --lucid-input-bg: #374151;\n    --lucid-secondary: #374151;\n    --lucid-secondary-dark: #4b5563;\n    --lucid-success-bg: #064e3b;\n    --lucid-error-bg: #7f1d1d;\n    --lucid-warning-bg: #78350f;\n    --lucid-info-bg: #1e3a8a;\n    --lucid-question-bg: #581c87;\n    --lucid-success-notification-bg: #022c22;\n    --lucid-error-notification-bg: #450a0a;\n    --lucid-warning-notification-bg: #451a03;\n    --lucid-info-notification-bg: #1e3a8a;\n  }\n}\n\n/* Responsive Design */\n@media (max-width: 640px) {\n  .lucid-alert {\n    margin: 1rem;\n    padding: 1.5rem;\n    width: calc(100% - 2rem);\n  }\n\n  .lucid-buttons {\n    flex-direction: column;\n  }\n\n  .lucid-notification {\n    min-width: 280px;\n    max-width: calc(100vw - 2rem);\n  }\n\n  .lucid-notifications.top-right,\n  .lucid-notifications.bottom-right {\n    right: 0.5rem;\n  }\n\n  .lucid-notifications.top-left,\n  .lucid-notifications.bottom-left {\n    left: 0.5rem;\n  }\n}\n\n/* Animation Classes */\n.lucid-fade-in {\n  animation: lucidFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lucid-fade-out {\n  animation: lucidFadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lucid-slide-in-right {\n  animation: lucidSlideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lucid-slide-out-right {\n  animation: lucidSlideOutRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lucid-bounce-in {\n  animation: lucidBounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.lucid-slide-up {\n  animation: lucidSlideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Keyframe Animations */\n@keyframes lucidFadeIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@keyframes lucidFadeOut {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n}\n\n@keyframes lucidSlideInRight {\n  from {\n    transform: translateX(100%) scale(0.95);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0) scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes lucidSlideOutRight {\n  from {\n    transform: translateX(0) scale(1);\n    opacity: 1;\n  }\n  to {\n    transform: translateX(100%) scale(0.95);\n    opacity: 0;\n  }\n}\n\n@keyframes lucidBounceIn {\n  0% {\n    transform: scale(0.3) translateY(20px);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.05) translateY(-5px);\n    opacity: 0.8;\n  }\n  70% {\n    transform: scale(0.98) translateY(2px);\n    opacity: 0.9;\n  }\n  100% {\n    transform: scale(1) translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes lucidSlideUp {\n  from {\n    transform: translateY(20px) scale(0.95);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0) scale(1);\n    opacity: 1;\n  }\n}\n\n/* Modern Webkit Styling */\n\n/* Containment for webkit enhanced elements */\n.lucid-form,\n.lucid-content {\n  contain: layout style;\n  position: relative;\n}\n\n/* Custom Scrollbar for Alert Content */\n.lucid-alert::-webkit-scrollbar {\n  width: 8px;\n}\n\n.lucid-alert::-webkit-scrollbar-track {\n  background: var(--lucid-hover);\n  border-radius: 4px;\n}\n\n.lucid-alert::-webkit-scrollbar-thumb {\n  background: var(--lucid-border);\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n\n.lucid-alert::-webkit-scrollbar-thumb:hover {\n  background: var(--lucid-text-secondary);\n}\n\n/* Enhanced Input Styling */\n.lucid-input {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lucid-input:focus {\n  box-shadow:\n    0 0 0 3px rgba(59, 130, 246, 0.1),\n    0 1px 3px rgba(0, 0, 0, 0.1);\n  transform: translateY(-1px);\n  will-change: transform, box-shadow;\n}\n\n.lucid-input:hover:not(:focus) {\n  border-color: var(--lucid-text-secondary);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Enhanced Button Styling */\n.lucid-button {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: relative;\n  overflow: hidden;\n}\n\n.lucid-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(\n    90deg,\n    transparent,\n    rgba(255, 255, 255, 0.2),\n    transparent\n  );\n  transition: left 0.5s ease;\n}\n\n.lucid-button:hover::before {\n  left: 100%;\n}\n\n.lucid-button:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n  will-change: transform, box-shadow;\n}\n\n.lucid-button:active {\n  transform: translateY(0);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n/* Enhanced Close Button */\n.lucid-close {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  backdrop-filter: blur(10px);\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.lucid-close:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: scale(1.1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n.lucid-close:active {\n  transform: scale(0.95);\n}\n\n/* Enhanced Notification Close Button */\n.lucid-notification-close {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  backdrop-filter: blur(10px);\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.lucid-notification-close:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: scale(1.1);\n}\n\n/* Modern Selection Styling */\n.lucid-alert *::selection {\n  background: var(--lucid-primary);\n  color: white;\n}\n\n.lucid-notification *::selection {\n  background: var(--lucid-primary);\n  color: white;\n}\n\n/* Enhanced Focus Indicators */\n.lucid-button:focus-visible {\n  outline: 2px solid var(--lucid-primary);\n  outline-offset: 2px;\n}\n\n.lucid-close:focus-visible,\n.lucid-notification-close:focus-visible {\n  outline: 2px solid var(--lucid-primary);\n  outline-offset: 2px;\n}\n\n/* Modern Backdrop Blur Enhancement */\n.lucid-backdrop {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  background: rgba(0, 0, 0, 0.4);\n}\n\n/* Enhanced Alert Shadow and Border */\n.lucid-alert {\n  box-shadow:\n    0 25px 50px -12px rgba(0, 0, 0, 0.25),\n    0 0 0 1px rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  contain: layout style;\n  isolation: isolate;\n}\n\n/* Enhanced Notification Styling */\n.lucid-notification {\n  box-shadow:\n    0 20px 25px -5px rgba(0, 0, 0, 0.1),\n    0 10px 10px -5px rgba(0, 0, 0, 0.04),\n    0 0 0 1px rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(2px);\n  contain: layout style;\n  isolation: isolate;\n}\n\n/* Enhanced notification type styling */\n.lucid-notification.success,\n.lucid-notification.error,\n.lucid-notification.warning,\n.lucid-notification.info {\n  backdrop-filter: none;\n}\n\n/* Modern Progress Bar */\n.lucid-notification-progress {\n  background: linear-gradient(\n    90deg,\n    var(--lucid-primary),\n    var(--lucid-primary-dark)\n  );\n  box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);\n}\n\n/* Enhanced Icon Styling */\n.lucid-icon {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  border: 2px solid rgba(255, 255, 255, 0.2);\n}\n\n.lucid-notification-icon {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Smooth Transitions for All Interactive Elements */\n* {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.lucid-alert *,\n.lucid-notification * {\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Modern Dark Mode Enhancements */\n[data-theme='dark'] .lucid-alert {\n  background: rgba(31, 41, 55, 0.95);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n[data-theme='dark'] .lucid-notification {\n  background: rgba(31, 41, 55, 0.95);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n[data-theme='dark'] .lucid-input {\n  background: rgba(55, 65, 81, 0.8);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n[data-theme='dark'] .lucid-button.cancel {\n  background: rgba(55, 65, 81, 0.8);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n");const n=new class{constructor(n={}){this.currentTheme="auto",this.activeAlerts=new Set,this.activeNotifications=new Set,this.cssConfig={autoLoad:!1!==n.autoLoadCSS,cssPath:n.cssPath||null,skipCSS:!0===n.skipCSS},this.defaultConfig={title:"",text:"",html:"",icon:null,showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancel",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,position:"center",timer:null,animation:!0,backdrop:!0,customClass:"",width:null,padding:null,background:null,color:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,returnFocus:!0,heightAuto:!0,scrollbarPadding:!0},this.notificationConfig={type:"info",title:"",message:"",position:"top-right",duration:4e3,dismissible:!0,ripple:!0,icon:!0},this.init()}init(){this.injectStyles(),this.setupThemeDetection(),this.setupKeyboardHandlers()}injectStyles(){}hasExternalCSS(){const n=Array.from(document.styleSheets);for(const i of n)try{const n=i.cssRules||i.rules;if(n)for(const i of n)if(i.selectorText&&i.selectorText.includes(".lucid-backdrop"))return!0}catch(n){if(i.href&&i.href.includes("lucid-alerts"))return!0}return!1}loadExternalCSS(){return new Promise((n,i)=>{const t=this.cssConfig.cssPath?[this.cssConfig.cssPath]:["./lucid-alerts.css","../src/lucid-alerts.css","./src/lucid-alerts.css","./css/lucid-alerts.css","./assets/lucid-alerts.css"],e=o=>{if(o>=t.length)return void i(new Error("No CSS file found"));const r=document.createElement("link");r.rel="stylesheet",r.href=t[o],r.onload=()=>{n()},r.onerror=()=>{e(o+1)},document.head.appendChild(r)};e(0)})}getCSS(){return'\n      /* LucidAlerts Core Styles */\n      .lucid-backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.5);\n        backdrop-filter: blur(4px);\n        z-index: 10000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        opacity: 0;\n        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      .lucid-backdrop.show {\n        opacity: 1;\n      }\n\n      .lucid-backdrop.position-top {\n        align-items: flex-start;\n        padding-top: 2rem;\n      }\n\n      .lucid-backdrop.position-bottom {\n        align-items: flex-end;\n        padding-bottom: 2rem;\n      }\n\n      .lucid-alert {\n        background: var(--lucid-bg);\n        color: var(--lucid-text);\n        border-radius: 16px;\n        padding: 2rem;\n        max-width: 500px;\n        width: 90%;\n        max-height: 90vh;\n        overflow-y: auto;\n        position: relative;\n        transform: scale(0.7) translateY(20px);\n        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n        border: 1px solid var(--lucid-border);\n        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n      }\n\n      .lucid-backdrop.show .lucid-alert {\n        transform: scale(1) translateY(0);\n      }\n\n      .lucid-close {\n        position: absolute;\n        top: 1rem;\n        right: 1rem;\n        background: none;\n        border: none;\n        font-size: 1.5rem;\n        cursor: pointer;\n        color: var(--lucid-text-secondary);\n        padding: 0.25rem;\n        border-radius: 50%;\n        width: 2rem;\n        height: 2rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n        opacity: 0.7;\n      }\n\n      .lucid-close:hover {\n        opacity: 1;\n        color: var(--lucid-text);\n      }\n\n      .lucid-icon {\n        width: 4rem;\n        height: 4rem;\n        margin: 0 auto 1.5rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 50%;\n        font-size: 2rem;\n      }\n\n      .lucid-icon.success {\n        background: var(--lucid-success-bg);\n        color: var(--lucid-success);\n      }\n\n      .lucid-icon.error {\n        background: var(--lucid-error-bg);\n        color: var(--lucid-error);\n      }\n\n      .lucid-icon.warning {\n        background: var(--lucid-warning-bg);\n        color: var(--lucid-warning);\n      }\n\n      .lucid-icon.info {\n        background: var(--lucid-info-bg);\n        color: var(--lucid-info);\n      }\n\n      .lucid-icon.question {\n        background: var(--lucid-question-bg);\n        color: var(--lucid-question);\n      }\n\n      .lucid-title {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        text-align: center;\n        color: var(--lucid-text);\n      }\n\n      .lucid-content {\n        font-size: 1rem;\n        line-height: 1.5;\n        margin-bottom: 2rem;\n        text-align: center;\n        color: var(--lucid-text-secondary);\n      }\n\n      .lucid-form {\n        margin-bottom: 2rem;\n      }\n\n      .lucid-input {\n        width: 100%;\n        padding: 0.75rem;\n        border: 1px solid var(--lucid-border);\n        border-radius: 8px;\n        font-size: 1rem;\n        background: var(--lucid-input-bg);\n        color: var(--lucid-text);\n        margin-bottom: 1rem;\n        transition: border-color 0.2s ease;\n      }\n\n      .lucid-input:focus {\n        outline: none;\n        border-color: var(--lucid-primary);\n      }\n\n      .lucid-input.error {\n        border-color: var(--lucid-error);\n      }\n\n      .lucid-error-message {\n        color: var(--lucid-error);\n        font-size: 0.875rem;\n        margin-top: -0.5rem;\n        margin-bottom: 1rem;\n      }\n\n      .lucid-buttons {\n        display: flex;\n        gap: 0.75rem;\n        justify-content: center;\n      }\n\n      .lucid-button {\n        padding: 0.75rem 1.5rem;\n        border: none;\n        border-radius: 10px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n        min-width: 80px;\n      }\n\n      .lucid-button.confirm {\n        background: var(--lucid-primary);\n        color: white;\n      }\n\n      .lucid-button.confirm:hover {\n        background: var(--lucid-primary-dark);\n        opacity: 0.9;\n      }\n\n      .lucid-button.cancel {\n        background: var(--lucid-secondary);\n        color: var(--lucid-text);\n      }\n\n      .lucid-button.cancel:hover {\n        background: var(--lucid-secondary-dark);\n        opacity: 0.9;\n      }\n\n      /* Notifications */\n      .lucid-notifications {\n        position: fixed;\n        z-index: 10001;\n        pointer-events: none;\n      }\n\n      .lucid-notifications.top-right {\n        top: 1rem;\n        right: 1rem;\n      }\n\n      .lucid-notifications.top-left {\n        top: 1rem;\n        left: 1rem;\n      }\n\n      .lucid-notifications.bottom-right {\n        bottom: 1rem;\n        right: 1rem;\n      }\n\n      .lucid-notifications.bottom-left {\n        bottom: 1rem;\n        left: 1rem;\n      }\n\n      .lucid-notifications.top-center {\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n\n      .lucid-notifications.bottom-center {\n        bottom: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n\n      .lucid-notification {\n        background: var(--lucid-bg);\n        color: var(--lucid-text);\n        border: 1px solid var(--lucid-border);\n        border-radius: 12px;\n        padding: 1rem;\n        margin-bottom: 0.75rem;\n        max-width: 400px;\n        min-width: 300px;\n        pointer-events: auto;\n        transform: translateX(100%) scale(0.95);\n        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n        opacity: 0;\n        display: flex;\n        align-items: flex-start;\n        gap: 0.75rem;\n        position: relative;\n        overflow: hidden;\n        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n      }\n\n      .lucid-notification.show {\n        transform: translateX(0) scale(1);\n        opacity: 1;\n      }\n\n      .lucid-notification.left {\n        transform: translateX(-100%) scale(0.95);\n      }\n\n      .lucid-notification.left.show {\n        transform: translateX(0) scale(1);\n      }\n\n      .lucid-notification.success {\n        border-left: 4px solid var(--lucid-success);\n        background: var(--lucid-success-notification-bg);\n      }\n\n      .lucid-notification.error {\n        border-left: 4px solid var(--lucid-error);\n        background: var(--lucid-error-notification-bg);\n      }\n\n      .lucid-notification.warning {\n        border-left: 4px solid var(--lucid-warning);\n        background: var(--lucid-warning-notification-bg);\n      }\n\n      .lucid-notification.info {\n        border-left: 4px solid var(--lucid-info);\n        background: var(--lucid-info-notification-bg);\n      }\n\n      .lucid-notification-icon {\n        width: 1.5rem;\n        height: 1.5rem;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 0.875rem;\n        flex-shrink: 0;\n      }\n\n      .lucid-notification-content {\n        flex: 1;\n      }\n\n      .lucid-notification-title {\n        font-weight: 600;\n        margin-bottom: 0.25rem;\n        font-size: 0.875rem;\n      }\n\n      .lucid-notification-message {\n        font-size: 0.875rem;\n        color: var(--lucid-text-secondary);\n        line-height: 1.4;\n      }\n\n      .lucid-notification-close {\n        background: none;\n        border: none;\n        cursor: pointer;\n        color: var(--lucid-text-secondary);\n        padding: 0.25rem;\n        border-radius: 50%;\n        width: 1.5rem;\n        height: 1.5rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 0.75rem;\n        flex-shrink: 0;\n        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n        opacity: 0.7;\n      }\n\n      .lucid-notification-close:hover {\n        opacity: 1;\n        color: var(--lucid-text);\n      }\n\n      .lucid-notification-progress {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3px;\n        background: var(--lucid-primary);\n        transition: width linear;\n      }\n\n      /* Theme Variables */\n      :root {\n        --lucid-primary: #3b82f6;\n        --lucid-primary-dark: #2563eb;\n        --lucid-secondary: #e5e7eb;\n        --lucid-secondary-dark: #d1d5db;\n        --lucid-success: #10b981;\n        --lucid-success-bg: #d1fae5;\n        --lucid-error: #ef4444;\n        --lucid-error-bg: #fee2e2;\n        --lucid-warning: #f59e0b;\n        --lucid-warning-bg: #fef3c7;\n        --lucid-info: #3b82f6;\n        --lucid-info-bg: #dbeafe;\n        --lucid-question: #8b5cf6;\n        --lucid-question-bg: #ede9fe;\n      }\n\n      /* Light Theme */\n      [data-theme="light"], :root {\n        --lucid-bg: #ffffff;\n        --lucid-text: #1f2937;\n        --lucid-text-secondary: #6b7280;\n        --lucid-border: #e5e7eb;\n        --lucid-hover: #f3f4f6;\n        --lucid-input-bg: #ffffff;\n        --lucid-success-notification-bg: #f0fdf4;\n        --lucid-error-notification-bg: #fef2f2;\n        --lucid-warning-notification-bg: #fffbeb;\n        --lucid-info-notification-bg: #eff6ff;\n      }\n\n      /* Dark Theme */\n      [data-theme="dark"] {\n        --lucid-bg: #1f2937;\n        --lucid-text: #f9fafb;\n        --lucid-text-secondary: #d1d5db;\n        --lucid-border: #374151;\n        --lucid-hover: #374151;\n        --lucid-input-bg: #374151;\n        --lucid-secondary: #374151;\n        --lucid-secondary-dark: #4b5563;\n        --lucid-success-bg: #064e3b;\n        --lucid-error-bg: #7f1d1d;\n        --lucid-warning-bg: #78350f;\n        --lucid-info-bg: #1e3a8a;\n        --lucid-question-bg: #581c87;\n        --lucid-success-notification-bg: #022c22;\n        --lucid-error-notification-bg: #450a0a;\n        --lucid-warning-notification-bg: #451a03;\n        --lucid-info-notification-bg: #1e3a8a;\n      }\n\n      /* Auto theme detection */\n      @media (prefers-color-scheme: dark) {\n        :root:not([data-theme="light"]) {\n          --lucid-bg: #1f2937;\n          --lucid-text: #f9fafb;\n          --lucid-text-secondary: #d1d5db;\n          --lucid-border: #374151;\n          --lucid-hover: #374151;\n          --lucid-input-bg: #374151;\n          --lucid-secondary: #374151;\n          --lucid-secondary-dark: #4b5563;\n          --lucid-success-bg: #064e3b;\n          --lucid-error-bg: #7f1d1d;\n          --lucid-warning-bg: #78350f;\n          --lucid-info-bg: #1e3a8a;\n          --lucid-question-bg: #581c87;\n          --lucid-success-notification-bg: #022c22;\n          --lucid-error-notification-bg: #450a0a;\n          --lucid-warning-notification-bg: #451a03;\n          --lucid-info-notification-bg: #1e3a8a;\n        }\n      }\n\n      /* Responsive Design */\n      @media (max-width: 640px) {\n        .lucid-alert {\n          margin: 1rem;\n          padding: 1.5rem;\n          width: calc(100% - 2rem);\n        }\n\n        .lucid-buttons {\n          flex-direction: column;\n        }\n\n        .lucid-notification {\n          min-width: 280px;\n          max-width: calc(100vw - 2rem);\n        }\n\n        .lucid-notifications.top-right,\n        .lucid-notifications.bottom-right {\n          right: 0.5rem;\n        }\n\n        .lucid-notifications.top-left,\n        .lucid-notifications.bottom-left {\n          left: 0.5rem;\n        }\n      }\n\n      /* Animation Classes */\n      .lucid-fade-in {\n        animation: lucidFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      .lucid-fade-out {\n        animation: lucidFadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      .lucid-slide-in-right {\n        animation: lucidSlideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      .lucid-slide-out-right {\n        animation: lucidSlideOutRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      .lucid-bounce-in {\n        animation: lucidBounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n      }\n\n      .lucid-slide-up {\n        animation: lucidSlideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      @keyframes lucidFadeIn {\n        from { \n          opacity: 0; \n          transform: scale(0.95);\n        }\n        to { \n          opacity: 1; \n          transform: scale(1);\n        }\n      }\n\n      @keyframes lucidFadeOut {\n        from { \n          opacity: 1; \n          transform: scale(1);\n        }\n        to { \n          opacity: 0; \n          transform: scale(0.95);\n        }\n      }\n\n      @keyframes lucidSlideInRight {\n        from { \n          transform: translateX(100%) scale(0.95); \n          opacity: 0;\n        }\n        to { \n          transform: translateX(0) scale(1); \n          opacity: 1;\n        }\n      }\n\n      @keyframes lucidSlideOutRight {\n        from { \n          transform: translateX(0) scale(1); \n          opacity: 1;\n        }\n        to { \n          transform: translateX(100%) scale(0.95); \n          opacity: 0;\n        }\n      }\n\n      @keyframes lucidBounceIn {\n        0% {\n          transform: scale(0.3) translateY(20px);\n          opacity: 0;\n        }\n        50% {\n          transform: scale(1.05) translateY(-5px);\n          opacity: 0.8;\n        }\n        70% {\n          transform: scale(0.98) translateY(2px);\n          opacity: 0.9;\n        }\n        100% {\n          transform: scale(1) translateY(0);\n          opacity: 1;\n        }\n      }\n\n      @keyframes lucidSlideUp {\n        from {\n          transform: translateY(20px) scale(0.95);\n          opacity: 0;\n        }\n        to {\n          transform: translateY(0) scale(1);\n          opacity: 1;\n        }\n      }\n    '}setupThemeDetection(){if("auto"===this.currentTheme){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.updateTheme()}),this.updateTheme()}}updateTheme(){if("auto"===this.currentTheme){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",n?"dark":"light")}else document.documentElement.setAttribute("data-theme",this.currentTheme)}setTheme(n){this.currentTheme=n,this.updateTheme()}setupKeyboardHandlers(){document.addEventListener("keydown",n=>{if("Escape"===n.key&&this.activeAlerts.size>0){const n=Array.from(this.activeAlerts),i=n[n.length-1];i.config.allowEscapeKey&&this.close(i.element,!1)}})}getIcon(n){return{success:"✓",error:"✕",warning:"⚠",info:"ℹ",question:"?"}[n]||""}createAlert(n){const i=document.createElement("div");i.className="lucid-backdrop","center"!==n.position&&i.classList.add(`position-${n.position}`);const t=document.createElement("div");t.className="lucid-alert",n.customClass&&t.classList.add(n.customClass);let e="";return n.showCloseButton&&(e+='<button class="lucid-close" type="button">×</button>'),n.icon&&(e+=`<div class="lucid-icon ${n.icon}">${this.getIcon(n.icon)}</div>`),n.title&&(e+=`<div class="lucid-title">${n.title}</div>`),n.html?e+=`<div class="lucid-content">${n.html}</div>`:n.text&&(e+=`<div class="lucid-content">${this.escapeHtml(n.text)}</div>`),(n.showConfirmButton||n.showCancelButton)&&(e+='<div class="lucid-buttons">',n.reverseButtons?(n.showCancelButton&&(e+=`<button class="lucid-button cancel" type="button">${n.cancelButtonText}</button>`),n.showConfirmButton&&(e+=`<button class="lucid-button confirm" type="button">${n.confirmButtonText}</button>`)):(n.showConfirmButton&&(e+=`<button class="lucid-button confirm" type="button">${n.confirmButtonText}</button>`),n.showCancelButton&&(e+=`<button class="lucid-button cancel" type="button">${n.cancelButtonText}</button>`)),e+="</div>"),t.innerHTML=e,i.appendChild(t),{backdrop:i,alert:t}}createFormAlert(n){const{backdrop:i,alert:t}=this.createAlert({...n,showConfirmButton:!0,showCancelButton:!0}),e=t.querySelector(".lucid-buttons"),o=document.createElement("div");return o.className="lucid-form",n.inputs.forEach((n,i)=>{const t=document.createElement("input");t.className="lucid-input",t.type=n.type||"text",t.placeholder=n.placeholder||"",t.name=n.name||`input_${i}`,t.required=n.required||!1,t.value=n.value||"",n.attributes&&Object.entries(n.attributes).forEach(([n,i])=>{t.setAttribute(n,i)}),o.appendChild(t)}),e?t.insertBefore(o,e):t.appendChild(o),{backdrop:i,alert:t,form:o}}show(n){return new Promise(i=>{const t={...this.defaultConfig,...n},{backdrop:e,alert:o}=this.createAlert(t),r={element:e,config:t,resolve:i};this.activeAlerts.add(r);const c=n=>{this.close(e,n)},a=o.querySelector(".lucid-close");a&&a.addEventListener("click",()=>c(!1));const l=o.querySelector(".lucid-button.confirm");l&&l.addEventListener("click",()=>c(!0));const d=o.querySelector(".lucid-button.cancel");d&&d.addEventListener("click",()=>c(!1)),t.allowOutsideClick&&e.addEventListener("click",n=>{n.target===e&&c(!1)}),t.timer&&setTimeout(()=>{this.activeAlerts.has(r)&&c(null)},t.timer),document.body.appendChild(e),requestAnimationFrame(()=>{e.classList.add("show")})})}form(n){return new Promise(i=>{const t={...this.defaultConfig,...n,showConfirmButton:!0,showCancelButton:!0},{backdrop:e,alert:o,form:r}=this.createFormAlert(t),c={element:e,config:t,resolve:i};this.activeAlerts.add(c);const a=()=>{const n=r.querySelectorAll(".lucid-input"),i={},t={};let o=!1;r.querySelectorAll(".lucid-error-message").forEach(n=>n.remove()),n.forEach(n=>n.classList.remove("error")),n.forEach(n=>{const e=n.value.trim(),r=n.name;i[r]=e,n.required&&!e?(t[r]="This field is required",o=!0):"email"===n.type&&e&&!this.isValidEmail(e)&&(t[r]="Please enter a valid email address",o=!0)}),o?n.forEach(n=>{const i=n.name;if(t[i]){n.classList.add("error");const e=document.createElement("div");e.className="lucid-error-message",e.textContent=t[i],n.parentNode.insertBefore(e,n.nextSibling)}}):this.close(e,{isConfirmed:!0,values:i})},l=n=>{this.close(e,{isConfirmed:!1,values:{}})},d=o.querySelector(".lucid-close");d&&d.addEventListener("click",()=>l());const s=o.querySelector(".lucid-button.confirm");s&&s.addEventListener("click",a);const u=o.querySelector(".lucid-button.cancel");u&&u.addEventListener("click",()=>l()),r.addEventListener("keydown",n=>{"Enter"===n.key&&(n.preventDefault(),a())}),t.allowOutsideClick&&e.addEventListener("click",n=>{n.target===e&&l()}),document.body.appendChild(e);const f=r.querySelector(".lucid-input");f&&setTimeout(()=>f.focus(),100),requestAnimationFrame(()=>{e.classList.add("show")})})}close(n,i){const t=Array.from(this.activeAlerts).find(i=>i.element===n);t&&(this.activeAlerts.delete(t),n.classList.remove("show"),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.resolve(i)},300))}notify(n){const i={...this.notificationConfig,...n};let t=document.querySelector(`.lucid-notifications.${i.position}`);t||(t=document.createElement("div"),t.className=`lucid-notifications ${i.position}`,document.body.appendChild(t));const e=document.createElement("div");e.className=`lucid-notification ${i.type}`,i.position.includes("left")&&e.classList.add("left");let o="";if(i.icon){const n="string"==typeof i.icon?i.icon:i.type;o+=`<div class="lucid-notification-icon ${n}">${this.getIcon(n)}</div>`}if(o+='<div class="lucid-notification-content">',i.title&&(o+=`<div class="lucid-notification-title">${this.escapeHtml(i.title)}</div>`),i.message&&(o+=`<div class="lucid-notification-message">${this.escapeHtml(i.message)}</div>`),o+="</div>",i.dismissible&&(o+='<button class="lucid-notification-close" type="button">×</button>'),e.innerHTML=o,i.duration>0){const n=document.createElement("div");n.className="lucid-notification-progress",n.style.width="100%",e.appendChild(n)}const r={element:e,config:i};this.activeNotifications.add(r);const c=e.querySelector(".lucid-notification-close");if(c&&c.addEventListener("click",()=>{this.closeNotification(e)}),t.appendChild(e),requestAnimationFrame(()=>{e.classList.add("show")}),i.duration>0){const n=e.querySelector(".lucid-notification-progress");n&&(n.style.transitionDuration=`${i.duration}ms`,requestAnimationFrame(()=>{n.style.width="0%"})),setTimeout(()=>{this.activeNotifications.has(r)&&this.closeNotification(e)},i.duration)}return e}closeNotification(n){const i=Array.from(this.activeNotifications).find(i=>i.element===n);i&&(this.activeNotifications.delete(i),n.classList.remove("show"),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},400))}escapeHtml(n){const i=document.createElement("div");return i.textContent=n,i.innerHTML}isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}alert(n){return"string"==typeof n&&(n={text:n}),this.show(n)}success(n){return"string"==typeof n&&(n={text:n}),this.show({...n,icon:"success"})}error(n){return"string"==typeof n&&(n={text:n}),this.show({...n,icon:"error"})}warning(n){return"string"==typeof n&&(n={text:n}),this.show({...n,icon:"warning"})}info(n){return"string"==typeof n&&(n={text:n}),this.show({...n,icon:"info"})}question(n){return"string"==typeof n&&(n={text:n}),this.show({...n,icon:"question",showCancelButton:!0})}toast(n){return this.notify(n)}closeAll(){this.activeAlerts.forEach(n=>{this.close(n.element,!1)}),this.activeNotifications.forEach(n=>{this.closeNotification(n.element)})}};return"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(()=>n):window.LucidAlerts=n,n});